<!DOCTYPE html>
<html>
<head>
<script src="http://code.jquery.com/jquery.min.js"></script>
<link href="http://getbootstrap.com/dist/css/bootstrap.css" rel="stylesheet" type="text/css" />
<script src="http://getbootstrap.com/dist/js/bootstrap.js"></script>
  
<script>
$(function() {
      $('button#submit').click(function(){
        //alert($('#input').val());
        ExecuteThisPost();
      });
        
      
function ExecuteThisPost()
            {
              var parameterList = [];
              var parameterDTO = {};
              var result;
              var data = null;
                      
              parameterDTO.ExecuteThis = "extractThis";
              parameterList.push(parameterDTO);
          
              parameterList = JSON.stringify(parameterList);
              
              
              $.ajax({
                  'method': 'PUT',
                  'dataType': 'json',
                  'headers' : {'COntent-type':'Application/json'},
                  'global': false,
                  'async': false,
                  'url': '/executethis',
                  'data': $('#input').val(),
                  'success': function(data) {
                      if(data.error){
                        result = " APPLICATION ERROR: "+JSON.stringify(data);
                      }else{
                        result = " SUCCESS: "+JSON.stringify(data);
                      }

                      // alert(result);
                  },
                  'error': function(result) {
                      alert('Failed\n--------' + result.error);
                      console.log(result.error);
                      result = " FAILURE: "+JSON.stringify(result);
                  }
              });
              console.log(result);
              $('div#resultDiv').html('<p>'+ result +'</p>');
            }  

    
});
  </script>  
 
<meta charset=utf-8 />
<title>Test Page for API?</title>
</head>
<body>
  <div class="container">
    <div class="row">
        <div class="col-md-12">
            <legend>Test the API</legend>
            <label>Insert JSON</label>
            <div>
                <textarea id="input" class="span" cols="80" rows"4"> [{"ExecuteThis":"extractthis","Wid":"test1","x'":"y","z":"w", "preExecute" : "sayPreHello","postExecute" : "sayPostHello"}]</textarea>
            </div>
            <p>
                <button id="submit" class="btn btn-default">Submit</button>
            </p>
            <br>
            <p>
                <section>Results below</section>
            </p>
            <div id="resultDiv">
                This section will be updated with the results of the call.
            </div>
        </div>
    </div>
</div>
</body>
</html>